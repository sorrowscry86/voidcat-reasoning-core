---
description: AI rules derived by SpecStory from the project AI interaction history
globs: *
---

## PROJECT RULES, CODING STANDARDS, WORKFLOW GUIDELINES, REFERENCES, DOCUMENTATION STRUCTURES, AND BEST PRACTICES

This file serves as the central source of truth for all project-related rules, coding standards, workflow guidelines, references, documentation structures, and best practices. The AI coding assistant must adhere to these guidelines at all times. This document is a living document and will evolve as the project progresses.

## UPDATED ARCHITECTURE OVERVIEW

The VoidCat Reasoning Core (VRE) is a sophisticated AI-driven engine designed for strategic intelligence and automation tasks. It leverages the OpenAI API and is deployed as a Docker container. Key components include:

1. **Engine**:
   - Core reasoning logic implemented in `engine.py` and `enhanced_engine.py`.
   - Supports RAG-enhanced reasoning and multi-branch structured thinking.
   - Implements hybrid vectorization via `hybrid_vectorizer.py` for optimized data processing.

2. **Integration Layer**:
   - Handles external communication via `api_gateway.py` and `context7_integration.py`.
   - Includes `mcp_server.py` for Model Context Protocol (MCP) server integration.

3. **Memory System**:
   - Persistent knowledge storage managed by `voidcat_persistence.py`.
   - Enhanced memory tools demonstrated in `demo_enhanced_memory.py`.

4. **Testing Framework**:
   - Comprehensive tests located in `test_*` files.
   - Includes E2E tests (`test_e2e_*`) for validating system-wide functionality.

## UPDATED WORKFLOWS

### Build and Deployment

1. **Dockerized Deployment**:
   - Build the Docker image:
     ```powershell
     docker build -t voidcat-reasoning-core .
     ```
   - Run the container:
     ```powershell
     docker run --env-file .env voidcat-reasoning-core
     ```

2. **Environment Configuration**:
   - Set up `.env` file with required variables:
     ```ini
     OPENAI_API_KEY='your-super-secret-api-key'
     ```

### Testing

1. **Activate Virtual Environment**:
   - Ensure the virtual environment is active.

2. **Install Dependencies**:
   - Run:
     ```powershell
     pip install -r requirements.txt
     ```

3. **Execute Test Harness**:
   - Run:
     ```powershell
     python main.py
     ```

4. **Run Specific Tests**:
   - Use `test_memory_tools_only.py` for memory-specific tests.
   - Validate MCP integration with `test_mcp_integration.py`.

### Debugging

- Use `validate_system.py` for system validation.
- Check logs generated by the Docker container for runtime issues.
- Use `security_audit.py` for security checks.

## UPDATED CONVENTIONS AND PATTERNS

1. **Tool Integration**:
   - Use `voidcat_query`, `voidcat_status`, and `voidcat_sequential_thinking` for reasoning tasks.
   - Leverage `voidcat_enhanced_query` for full pipeline execution.

2. **Testing**:
   - Follow the structure in `test_*` files for unit and integration tests.
   - Use `test_e2e_*` files for end-to-end testing.

3. **Documentation**:
   - Update `.github/copilot-instructions.md` and `README.md` for any major changes.
   - Reference `ENHANCED_IMPLEMENTATION_SUMMARY.md` for detailed implementation notes.

## UPDATED REFERENCES

- **Key Files**:
  - `engine.py`, `enhanced_engine.py`, `api_gateway.py`, `context7_integration.py`
  - `test_context_integration.py`, `test_engine_validation.py`, `test_e2e_complete_system.py`
- **Documentation**:
  - `README.md`, `.github/copilot-instructions.md`, `ENHANCED_IMPLEMENTATION_SUMMARY.md`

## VOIDCAT REASONING CORE TOOLS

### Available Tools

1. **voidcat_query**
   - **Purpose**: Process intelligent queries using RAG-enhanced reasoning.
   - **Parameters**:
     - `query` (required): Your question or prompt.
     - `model` (optional): OpenAI model to use (default: gpt-4o-mini).

2. **voidcat_status**
   - **Purpose**: Check the health and status of the VoidCat reasoning engine.
   - **Parameters**: None.

3. **voidcat_sequential_thinking**
   - **Purpose**: Perform multi-branch structured reasoning.
   - **Parameters**:
     - `query` (required): The input query.
     - `max_thoughts` (optional): Maximum number of thoughts to process (default: 10).
     - `include_reasoning_trace` (optional): Whether to include the reasoning trace (default: True).

4. **voidcat_enhanced_query**
   - **Purpose**: Execute the full pipeline (Sequential Thinking + Context7 + RAG).
   - **Parameters**:
     - `query` (required): The input query.
     - `model` (optional): OpenAI model to use.

5. **voidcat_analyze_knowledge**
   - **Purpose**: Explore the knowledge base for insights.
   - **Parameters**: None.

6. **voidcat_configure_engine**
   - **Purpose**: Configure runtime behavior of the VoidCat engine.
   - **Parameters**: Configuration options as key-value pairs.